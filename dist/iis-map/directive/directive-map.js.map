{"version":3,"sources":["iis-map/directive/directive-map.js"],"names":[],"mappings":";;AAAA;;;AAGC,aAAY;;AAEX,UAAQ,MAAR,CAAe,SAAf,EACG,SADH,CACa,OADb,EACsB,KADtB;AAEA,QAAM,OAAN,GAAgB,CAAC,OAAD,EAAU,YAAV,EAAwB,mBAAxB,CAAhB;;AAEA,WAAS,KAAT,CAAe,KAAf,EAAsB,UAAtB,EAAkC,iBAAlC,EAAqD;AACnD,WAAO;AACL,gBAAU,IADL;AAEL,YAAM,cAAU,KAAV,EAAiB,EAAjB,EAAqB,IAArB,EAA2B;AAC/B,cAAM,GAAN,CAAU,eAAV,EAA2B,IAA3B,CAAgC,UAAU,CAAV,EAAa;AAC3C,kBAAQ,EAAE,IAAF,CAAO,KAAf;AACD,SAFD;AAGA,iBAAS,OAAT,CAAiB,KAAjB,EAAwB;AACtB,mBAAS,WAAT,GAAuB,KAAvB;AACA,cAAI,MAAM,IAAI,SAAS,GAAb,CAAiB;AACzB,uBAAW,GAAG,CAAH,CADc;AAEzB,oBAAQ,CAAC,KAAD,EAAQ,KAAR,CAFiB;AAGzB,kBAAM,EAHmB;AAIzB,mBAAO;AAJkB,WAAjB,CAAV;;AAOA,cAAI,QAAQ,IAAI,SAAS,KAAb,CACV;AACE,0BAAc,KADhB;AAEE,yBAAa;AAFf,WADU,EAKT,SALS,CAKC,CAAC,KAAD,EAAQ,KAAR,CALD,EAMT,OANS,CAMD,gBANC,CAAZ;AAOC;;AAED,cAAI,MAAM,kBAAkB,cAAlB,CAAiC;AACzC,mBAAO,EADkC;AAEzC,oBAAQ,EAFiC;AAGzC,qBAAS;AAHgC,WAAjC,CAAV;AAKA,cAAI,SAAJ,GAAgB,aAAhB;;AAGA,cAAI,SAAS,IAAI,SAAS,MAAb,CAAoB,GAApB,EACV,SADU,CACA,CAAC,KAAD,EAAQ,KAAR,CADA,EAEV,KAFU,CAEJ,GAFI,CAAb;;AAIA,qBAAW,MAAX,CAAkB,GAAlB;AACD;AACF;AAtCI,KAAP;AAwCD;AACF,CAhDA,GAAD","file":"iis-map/directive/directive-map.js","sourcesContent":["/**\n * Created by maxislav on 15.07.16.\n */\n(function () {\n\n  angular.module('iis-map')\n    .directive('mapGl', mapGl);\n  mapGl.$inject = ['$http', 'factoryMap', 'factoryMarkerHtml'];\n\n  function mapGl($http, factoryMap, factoryMarkerHtml) {\n    return {\n      restrict: 'AC',\n      link: function (scope, el, attr) {\n        $http.get('maptoken.json').then(function (d) {\n          initMap(d.data.token)\n        });\n        function initMap(token) {\n          mapboxgl.accessToken = token;\n          var map = new mapboxgl.Map({\n            container: el[0],\n            center: [30.40, 50.40],\n            zoom: 11,\n            style: 'mapbox://styles/mapbox/dark-v9'\n          });\n\n          var popup = new mapboxgl.Popup(\n            {\n              closeOnClick: false,\n              closeButton: false\n            })\n            .setLngLat([30.40, 50.40])\n            .setHTML('<h1>Popup</h1>');\n           // .addTo(map);\n\n          var div  =factoryMarkerHtml.getHtmlElement({\n            width: 40,\n            height: 40,\n            content: 'Ðœff'\n          });\n          div.className = 'marker-html';\n\n\n          var marker = new mapboxgl.Marker(div)\n            .setLngLat([30.40, 50.40])\n            .addTo(map);\n\n          factoryMap.setMap(map)\n        }\n      }\n    }\n  }\n}());"],"sourceRoot":"/source/"}